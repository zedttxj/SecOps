# Implementing Authentication Systems: FIM allows different organizations to use federations for SSO.
## Implementing SSO on the Internet
Imagine you want to transfer money from Bank A to Bank B. You could give Bank B your credentails to Bank A and have them transfer the money. Sound scary? You bet. You should never be required to give your credentials to any third party. Solutions such as SAML, OAuth, OpenID, and OIDC help solve this problem. They share authentication, authorization, or profile information about a user, and some solutions share all three.
- **XML:** Databases from multiple vendors can import and export data to and from an XML format, making XML a common language used to exchange information if companies agree on what schema to use. Many cloud-based providers use XML-based languages to share information for authentication and authorization. They don’t use XML as it is but instead use other languages based on XML.
  - SAML: an open XML-based standard commonly used to **exchange authentication and authorization (AA) information** between federated organizations. It **provides SSO capabilities** for browser access. The Organization for the Advancement of Structured Information Standards (OASIS), a nonprofit consortium that encourages open standards development, adopted SAML 2.0 (a convergence of SAML 1.1, the Liberty Alliance Identity Federation Framework, ID-FF, 1.2, and Shibboleth 1.3) as an OASIS standard in 2005 and has maintained it since then. (www.oasis-open.org/standards) site has more details on SAML 2.0.
  - **Example:** imagine Sally is accessing her investment account at ucanbeamillionaire.com that requires her to log on to access her acocunt, and the site uses SAML:
    - Principal or User Agent: think of Sally as the principal who’s trying to access her investment account at ucanbeamillionaire.com
    - Service Provider (SP): ucanbeamillionaire.com site is providing the service
    - Identity Provider (IdP): This is a third party that holds the user authentication and authorization information. It can send three types of XML messages known as assertions:
      - Authentication Assertion: provides proof that the user agent provided the proper credentials, identifies the identification method, and identifies the times the user agent logged on.
      - Authorization Assertion: indicates whether the user agent is authorized to access the requested service. If the message indicates access is denied, it indicates why.
      - Attribute Assertion: can be any information about the user agent.
- **OAuth (OAuth 2.0 implying open authorization):** an authorization framework described in RFC 6749 and maintained by the Internet Engineering Task Force (IETF). Many companies on the internet use it to share account information with third-party websites.
  - **Example:** imagine you have a Twitter account, and you download an app called Acme that can interact with your Twitter account and schedule Tweets in advance. When you try to use the feature in the Acme app, it redirects you to Twitter. Twitter propts you to log on, shows you what permissions the Acme app will access, and then asks if you want to authorize the Acme app to access your Twitter app. If you approve, Twitter sends the Acme app an authorization token. The app may accept and enter the authorization token directly, or you may need to enter it into the app’s settings. When the app accesses the Twitter account, it sends an API message and includes the token. Note that this doesn’t provide authentication. Instead, it authorizes access to the account. A primary benefit is that you never provide your Twitter credentials to the Acme app. Even if the Acme app is compromised, it does not expose your credentials.
  - **Note:**
    - OAuth 2.0 is note backward compatible with OAuth 1.0.
    - OAuth is an authorization framework, not an authentication protocol. It exchanges API messages and uses a token to show that access is authorized.
    - Attacks like XSRF doesn't work on OAuth. However, don't click on any malicious URLs or if a developer fails to verify the `state` parameter or does not use PKCE where required, CSRF attacks could still be possible. One demo of XSRF attack is [here](https://github.com/zedttxj/Web-Security-Exploits/tree/main/Example-1) if you wanna learn more about it.
